<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>WiFi RAZAFI</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#ffffff" />

  <link rel="icon" href="assets/img/favicon.ico" />
  <link rel="icon" type="image/svg+xml" href="assets/img/favicon.svg" />
  <link rel="apple-touch-icon" href="assets/img/apple-touch-icon.png" />

  <link rel="stylesheet" href="assets/css/style.css" />
</head>

<body class="theme-light">

  <!-- ================= HEADER ================= -->
  <header class="portal-header">
    <div class="brand">
      <img src="assets/img/RAZAFI.png" alt="RAZAFI" style="height:40px;">
    </div>

    <button id="themeToggle" class="theme-toggle" aria-label="Changer de thÃ¨me">
      ğŸŒ™
    </button>
  </header>

  <!-- ================= MAIN ================= -->
  <main class="portal-container">

    <!-- ========= STATUS ========= -->
    <section class="card status-card">

      <h2>Bienvenue sur WiFi RAZAFI</h2>

      <!-- ğŸ”¹ Option C: pool/site name (filled by mikrotik.js using nas_id) -->
      <p id="poolName" class="muted small"></p>

      <p class="muted">VÃ©rification de votre accÃ¨s en coursâ€¦</p>

      <!-- ğŸ”¹ Pool full banner (optional, controlled by backend) -->
      <div
        id="poolFullBanner"
        style="display:none; margin:10px 0; padding:10px 12px;
               border-radius:10px;
               border:1px solid rgba(200,120,0,0.35);
               background:rgba(255,200,0,0.10);">
        <strong>âš ï¸ RÃ©seau momentanÃ©ment saturÃ©.</strong><br>
        Les achats sont temporairement indisponibles.
      </div>

      <!-- NO ACTIVE VOUCHER -->
      <div id="voucherNone">
        <p class="muted">Vous nâ€™avez pas de code actif.</p>
        <p class="muted small">
          Choisissez un plan ci-dessous pour acheter un code.
        </p>
      </div>

      <!-- ACTIVE VOUCHER -->
      <div id="voucherHas" class="hidden">
        <p class="success">âœ… Vous avez un code actif</p>

        <ul class="voucher-info">
          <li>ğŸ”‘ <strong id="voucher-code">â€”</strong></li>
          <li>â³ Temps restant : <strong id="time-left">â€”</strong></li>
          <li>ğŸ“Š DonnÃ©es restantes : <strong id="data-left">â€”</strong></li>
          <li>ğŸ”Œ Appareils utilisÃ©s : <strong id="devices-used">â€”</strong></li>
        </ul>

        <button id="useVoucherBtn" class="primary-btn" disabled>
          Utiliser ce code
        </button>

        <button id="copyVoucherBtn" class="secondary-btn" disabled>
          Copier le code
        </button>
      </div>

    </section>

    <!-- ========= PLANS ========= -->
    <section>
      <h3>Plans</h3>
      <div id="plansGrid" class="plans-grid">
        <p class="muted small">Chargement des plansâ€¦</p>
      </div>
    </section>

    <!-- ========= ASSISTANCE ========= -->
    <section class="card faq">
      <h3>ğŸ›Ÿ Assistance</h3>

      <p>
        <strong>ğŸ”Œ Comment se connecter ?</strong><br>
        SÃ©lectionnez un plan et effectuez le paiement via MVola.
      </p>

      <p>
        <strong>ğŸ“ Besoin dâ€™aide ?</strong><br>
        Service client : <strong>038 75 00 592</strong>
      </p>
    </section>

  </main>

  <!-- ================= FOOTER ================= -->
  <footer class="portal-footer">
    <p class="muted small">
      Â© RAZAFI â€” Portail sÃ©curisÃ©
    </p>
  </footer>

  <!-- ================= JS ================= -->
  <!-- ğŸ”‘ Identity (nas_id / ap_mac) is handled ONLY in mikrotik.js -->
  <script src="assets/js/mikrotik.js" defer></script>

</body>
</html>
