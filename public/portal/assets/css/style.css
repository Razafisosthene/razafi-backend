/* ===============================
   RAZAFI PORTAL â€“ CSS (NEW system)
   - Premium cards (limited/unlimited families)
   - Payment UX (toast + confirm + processing overlay)
   =============================== */

/* IMPORTANT: remove any debug outline in production */
body { outline: none !important; }

/* ---- Toast (top-center, safe area) ---- */
#toastContainer{
  position: fixed;
  top: calc(env(safe-area-inset-top, 0px) + 14px);
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 10px;
  pointer-events: none;
  width: min(92vw, 520px);
}

.toast{
  pointer-events: none;
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity .2s ease, transform .2s ease;
  border-radius: 14px;
  padding: 12px 14px;
  font-weight: 600;
  box-shadow: 0 12px 30px rgba(0,0,0,.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.toast.show{
  opacity: 1;
  transform: translateY(0);
}

.toast-info{
  background: rgba(20, 28, 36, .88);
  color: #fff;
  border: 1px solid rgba(255,255,255,.10);
}
.toast-success{
  background: rgba(18, 120, 70, .90);
  color: #fff;
  border: 1px solid rgba(255,255,255,.14);
}
.toast-error{
  background: rgba(160, 40, 40, .92);
  color: #fff;
  border: 1px solid rgba(255,255,255,.14);
}

/* ---- Payment UX helpers ---- */
.phone-hint{
  margin-top: 6px;
  min-height: 18px;
}
.phone-hint.hint-ok{ color: rgba(30, 140, 80, 1); }
.phone-hint.hint-error{ color: rgba(185, 55, 55, 1); }

.pay-btn[disabled]{
  opacity: .55;
  cursor: not-allowed;
  transform: none !important;
}

/* Inline confirmation */
.pay-confirm{
  margin-top: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(20, 28, 36, .06);
  padding: 12px;
}
.pay-confirm.hidden{ display:none; }

.pay-confirm-inner h6{
  margin: 0 0 10px 0;
  font-size: 14px;
  font-weight: 800;
}
.pay-summary{
  display: grid;
  gap: 8px;
  margin-bottom: 12px;
}
.summary-row{
  display:flex;
  justify-content: space-between;
  gap: 12px;
  font-size: 13px;
}
.summary-row span{ opacity: .75; }
.summary-row strong{ font-weight: 800; }

.pay-confirm-actions{
  display:flex;
  gap: 10px;
}
.pay-confirm-actions .primary-btn,
.pay-confirm-actions .secondary-btn{
  flex: 1;
}

/* iPhone-style processing overlay (local card) */
.processing-overlay{
  position: absolute;
  inset: 0;
  border-radius: 18px;
  background: rgba(0,0,0,.22);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
}
.processing-overlay.hidden{ display:none; }

.processing-card{
  width: min(92%, 420px);
  background: rgba(20, 28, 36, .90);
  color: #fff;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.14);
  padding: 14px 14px;
  display:flex;
  align-items:center;
  gap: 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
}

.spinner{
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 3px solid rgba(255,255,255,.28);
  border-top-color: rgba(255,255,255,.95);
  animation: spin .9s linear infinite;
  flex: 0 0 auto;
}

@keyframes spin{
  to{ transform: rotate(360deg); }
}

.processing-title{
  font-weight: 900;
  margin-bottom: 4px;
}
.processing-sub{
  opacity: .88;
  font-size: 13px;
  line-height: 1.25;
}

/* Ensure plan payment is positioning context for overlay */
.plan-payment{ position: relative; }

/* ===== The rest of your portal styling should remain from your existing premium CSS =====
   We keep this file focused on Payment UX additions to avoid breaking your current design.
   If you already have premium palettes/buttons/cards, keep them; these selectors only add on top.
*/
